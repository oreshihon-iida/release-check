# リリース対象外コミット検出拡張機能

この拡張機能は、developブランチとmainブランチを比較し、リリース対象外のコミットが含まれていないかをチェックするためのVSCode拡張機能です。本番リリース前の検証作業を効率化します。

## 機能

- developブランチとmainブランチの差分からコミットコメントを取得
- リリース対象外と判断されるコミットの検出
- 検出結果の詳細表示（WebViewパネル）
- カスタマイズ可能なリリース対象外判定パターン

## 使い方

1. VSCodeでGitリポジトリを開きます
2. コマンドパレット（`Ctrl+Shift+P` または `Cmd+Shift+P`）を開きます
3. 「リリース対象外コミットのチェック」コマンドを実行します
4. 結果がポップアップまたはWebViewパネルに表示されます

## 要件

- VSCode 1.99.0以上
- Gitリポジトリが開かれていること
- developブランチとmainブランチが存在すること（設定で変更可能）

## 拡張機能の設定

この拡張機能は以下の設定項目を提供します：

* `release-check.sourceBranch`: 比較元のブランチ名（デフォルト: `develop`）
* `release-check.targetBranch`: 比較先のブランチ名（デフォルト: `main`）
* `release-check.excludePatterns`: リリース対象外と判断するコミットメッセージのパターン（デフォルト: `["WIP", "DO NOT MERGE", "NOT FOR RELEASE"]`）

## 設定方法

1. VSCodeの設定を開きます（`Ctrl+,` または `Cmd+,`）
2. 「拡張機能」→「Release Check」を選択
3. 各設定項目を必要に応じて変更します

## 動作の仕組み

1. 指定されたブランチ間の差分コミットを取得
2. 各コミットメッセージを解析し、設定されたパターンと照合
3. リリース対象外パターンに一致するコミットを検出
4. 検出結果を表示（リリース対象外コミットがない場合は成功メッセージ）

## 注意事項

- この拡張機能はGitリポジトリが開かれている状態でのみ動作します
- 大規模なリポジトリでは、ブランチ間の差分取得に時間がかかる場合があります
- コミットメッセージのパターンマッチングは大文字・小文字を区別します

## リリースノート

### 0.0.1

- 初回リリース
- developブランチとmainブランチの比較機能
- リリース対象外コミットの検出機能
- WebViewパネルでの結果表示
- 設定のカスタマイズ機能

## 開発者向け情報

この拡張機能はTypeScriptで開発されており、simple-gitライブラリを使用してGit操作を行っています。

### ビルド方法

```bash
# 依存関係のインストール
npm install

# コンパイル
npm run compile

# パッケージング
npm run vscode:prepublish
```

### デバッグ方法

VSCodeでプロジェクトを開き、F5キーを押すと拡張機能開発ホストが起動します。
